# Managed by config management
{% set virtual = data -%}
{# to have virtual file emptied, just set an empty key 'virtual' -#}
{% if virtual is mapping -%}
  {% for key, value in virtual.iteritems() -%}
    {# Mutiple values available for single key in virtual alias maps - ie for dist groups -#}
    {# We test if list was provided as value, and iterate if so -#}
    {% if value is iterable and value is not string -%}
      {% for item in value -%}
{{key }}    {{ item }}
      {% endfor -%}
    {% else -%}
      {# ..otherwise expect it to be just a string for the value -#}
{{ key }}   {{ value }}
    {% endif -%}
  {% endfor -%}
{% else %}
{%- for item in virtual %}
{{ item.keys()[0] }}	{{ item.values()[0] }}
{%- endfor %}
{% endif -%}
